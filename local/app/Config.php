<?phpnamespace App;use Illuminate\Database\Eloquent\Model;class Config extends Model{    protected $fillable = [        'name', 'content', 'user_id', 'created_at', 'updated_at'    ];    public function users()    {        return $this->belongsTo('App\User', 'user_id');    }    public function getAllConfig()    {        return $this->pluck('content', 'name');    }    public function updateConfig($key, $val)    {        if ($setting = self::getAllSettings()->where('name', $key)->first()) {            return $setting->update([                'name' => $key,                'content' => $val]) ? $val : false;        }    }    public static function getAllSettings()    {        return self::all();    }    public function getConfigByName($name)    {        return $this->whereName($name)->first()->content;    }    public function getConfigByListName($array){        return $this->whereIn('name',$array)->get();    }    public function prepareParameters($parameters)    {        if ($parameters->input('image-choose')) {            $listImage = $parameters->input('image-choose');            $subImage = '';            if (count($listImage) != 0) {                foreach ($listImage as $key => $item) {                    if (hasHttpOrHttps($item))                        $subImage = $subImage . substr($item, strpos($item, 'images'), strlen($item) - 1) . ';';                    else {                        $subImage = $subImage . $item . ';';                    }                }                $parameters->request->add(['slider-config' => substr($subImage, 0, -1)]);            }        } else {            $parameters->request->add(['slider-config' => null]);        }        return $parameters;    }}